[TOC]
# 命令
## Linux的远程连接方式
### 通过命令来连接
```
ssh  用户名@ip地址/域名
```
### 通过工具来连接（工具底层也是使用的命令）
+ xshell
+ finalshell
+ ....ssh工具
## Linux的目录结构
+ Linux和windows最大一个区别就是，Linux没有C D  E F盘符，只有一个统一的路径： /
+ Linux中所有的文件、文件夹都是在/路径下存放的
+ 切换目录的命令
```
cd  路径
```
+ 查看当前工作目录
```
pwd
```
+ 查看某个路径下有哪些文件或者文件夹
```
ll/ls   [路径]
```
## Linux中内置命令（shell命令）
### 和命令使用有关的shell命令
+ man  命令    查看命令的用法的
+ 命令  --help   查看命令的用法的
+ help  命令  查看命令的用法的
### 查看历史记录的命令
+ history
### 文件目录有关的命令
#### 切换目录的命令
```
cd  路径   路径可以是绝对路径/、相对路径
cd  .  ..
cd  -    切换到上一次你所在的工作目录下
cd ~   切换到当前登录用户的家目录下，root的用户的家目录是/root  其他用户的家目录下是/home/xxx
```
#### 查看当前工作目录的命令
```
pwd
```
#### 查看某个目录下有哪些文件或者文件夹的命令
```
ls  [选项]  [路径]
-a  显示所有的文件和文件夹，包括隐藏文件和隐藏文件夹
-l   显示文件或者文件夹的详细信息  ls -l = ll
    其中第一个字符代表文件的类型：d  l  -
linux上也有隐藏文件和隐藏文件夹，只需要在文件或者文件夹的前面加上一个点. 
```
#### 文件/文件夹创建有关的命令
+ 创建文件夹
```
 mkdir  [-p]  目录路径
```
+ 创建文件
```
touch  文件路径
```
#### 文件/文件夹的删除命令
+ 删除文件夹
```
rmdir  目录的路径    删除一个空目录，如果目录非空，无法删除的
```
+ 删除文件
```
rm -f   文件路径  删除一个文件
```
+ 删除所有
```
rm -rf  文件/目录路径   删除文件或者目录
```
+ 特殊的用法
```
 文件/目录路径支持通配符*
```
+ 禁忌命令
```
rm  -rf  /*
```
#### Linux编辑文件的命令
Linux上有文件和文件夹的，文件是用来编辑和查看，存储数据的，文件夹是用来切换。
> Linux上有文件和文件夹的，文件是用来编辑和查看，存储数据的，文件夹是用来切换。  
> vi/vim：linux的记事本编辑器的命令，专门用来编辑文件的。  
> vi/vim   文件的路径：编辑文件有三种模式  
> 	1、默认模式（指令模式）：输完编辑命令敲回车之后默认进入的就是指令默认，指令默认下无法随意编辑文件，只能使用一些快捷键编辑文件内容：dd  y  p  u   
>       shift+g  快速到最后一行  
>        gg       快速到第一行  
>	2、编辑模式：编辑模式下随意更改文件内容。编辑模式需要在默认模式下输入  a  A  i  I  o  O才能进入  
>	3、命令行模式：命令行模式主要做两个操作，  
>   （1）检索文件的内容  n   
>   （2）保存和退出编辑器的  
>        :w  
>        :q  
>        :wq  
>        :w!  :q!  :wq!  
>  命令行模式只能从默认模式进入，无法从编辑模式进入  
>  默认模式下输入?   /   :  
#### 查看文件的内容  
>cat [选项]  文件路径  
>tac  选项  文件路径  
>more  选项  文件路径  
>less  选项 文件路径  
>head  选项 文件路径  
>tail   选项  文件路径  
>高级查看语法：tail  -f|-F  文件路径  
>先打印文件的最后十行，同时对文件开启一个监听状态，一旦文件有新的数据追加，会把新追加的数据输出    
#### 回写和重定向命令  
> 回写命令： echo  值/变量  
> 重定向命令：  
> >：覆盖重定向   >> 追加重定向  
> 将原本输出到控制台上的内容通过重定向输出到其他地方，比如文件中  
#### 文件的复制、移动命令
+ 复制文件
```
cp   [-r]  文件/文件夹路径    文件夹路径
```
+ 移动文件
```
mv  文件/文件夹路径  文件夹路径
```
+ 重命名文件/文件夹
```
mv  要重名的文件/文件夹路径  重命名之后的文件/文件夹路径
如果两个路径不是同一个路径 那么就是移动文件而不是重命名文件的
```
#### 跨主机复制文件

想将一个文件从A电脑上复制到B电脑上
scp命令就是专门用来进行跨主机文件复制的
```
scp  -r   文件/文件夹路径   用户名@ip:文件夹路径
```
#### sftp、ftp协议远程文件传输协议
实现连接上远程服务器，将文件数据在远程服务器和本地主机之间互相传输

```
sftp  用户名@ip
会进入到一个会话窗口，在窗口中执行一些命令可以实现文件的上传和下载
put //上传
get //下载
```
+ 基于sftp协议封装的一些工具：xftp、finalshell
#### 文件链接
> 文件链接相当于是windows上的快捷方式。  
> 在Linux中文件链接分为两种：软链接   硬链接  
> ln [-s]  链接文件/文件夹的路径    链接到的路径  

### 4、文件/目录权限有关的命令  
通过ll命令可以查看文件和文件夹的权限以及其他的详细信息，其中，ll看出来的前十个字符代表文件的类型和文件的权限  
  -rw-r--r--  
  
文件的类型是第一个字符  -   
  文件类型常见的三种：- 文件  d 目录   l  软链接   

剩余的九个字符代表的是文件的权限，文件权限三三分为一组，分别代表了三种角色的权限：  
  rw-：当前文件/目录所属用户的权限  
  r--：当前文件/目录所属用户组中的用户权限  
  r--：不是文件的所属用户，也不是文件所属用户组的用户的这些用户的权限  

权限有三种：   r    w     x  
### 5、日期时间有关的命令  
>	date  
>	cal  日历  


### 6、压缩解压缩有关的命令  

#### 操作系统安装软件三种方式
> 	1、操作系统支持的安装包安装  
> 	windows：exe  msi  
>   mac：dmg  
>   linux：rpm  
> 	2、解压缩安装  
> 	zip  
>   tar.gz  
> 	3、软件商店  
> 	windows：微软商店  
>   mac：app store  
>   linux：yum  

#### 支持压缩和解压缩的格式  
zip  
> 	后缀名.zip  
> 	压缩：zip  压缩包的名字  压缩的文件路径...  
> 	解压缩：unzip  压缩包的名字   [-d  路径]  

gzip  
> 	后缀名.gz  
> 	gzip只能压缩一个文件，如果想要将多个文件使用gzip压缩，不可以的。包括gzip不能压缩目录  
> 	压缩:   gzip    文件路径   压缩成功之后会把原文件删除了  
> 	解压缩:  gunzip  压缩包路径  

tar包  
> 	不是压缩包，而是一个归档包,可以将多个文件或者目录归档成为一个文件形式的存在  
> 	归档包在Linux中用处就是为了结合gzip压缩算法进行数据或者文件的压缩的。  
> 	后缀名.tar  
> 	归档：tar  -cvf  xxx.tar   文件/目录路径...  
> 	查看归档包中的文件：tar  -tvf xxx.tar  
> 	解档： tar -xvf  xxx.tar  [-C  文件路径]  

tar包和gzip算法的结合使用  
> 	先把多个文件使用tar归档成为一个文件形式的存在，这样的话就可以使用gzip算法对文件形式的存在进行压缩操作了  
> 	tar命令很牛，这个命令把gzip算法直接集成了，无需再手动对tar包进行gzip命令压缩  
> 	tar -zcvf  xxx.tar.gz  
> 	tar -zxvf  xxx.tar.gz  【-C  路径】  
> 	tar.gz包还有一种后缀就是.tgz   .txz  

#### 压缩和解压缩使用的命令其实都是一个软件，但是有些软件linux自带了，有些没有自带，需要我们自己手动安装。  
#### 压缩和解压缩软件基本上都在yum仓库存在了，所以直接通过yum仓库安装即可  

### 7、后台服务有关的命令  
(1):service 服务名  start|stop|status|restart|on|off  
(2):systemctl start|stop|status|restart|enable|disable  服务名  

### 8、进程线程类命令  

### 9、linux的定时器命令    
定时器是在Linux上创建一个定时器，定时器可以根据指定的时间执行指定的shell代码片段  
定时器属于Linux上的一个服务，服务没有开启，定时器是无法使用的。crond  
> crontab -l|-e|-r  
> 定时器代码： crond表达式  命令  
> crond表达式就是指的时间的规则：  
> 五部分 六部分 七部分  
> 分钟 小时  天  月 星期  
> 例如：  
> * * * * * echo zs  
>每隔一分钟输出一次zs  
#### 文件权限更改有三种更改规则  
更改文件权限  
> chmod [-R]  u/g/o +/-  r/w/x  文件/文件夹路径  
> chmod  g+w a.txt  
> chmod  [-R]  权限数字  文件/文件夹路径  
> r:4  w:2  x:1  
> rwx: 7  
> r-x:5  
> rw-:4  
> chmod  764 a.txt  

更改文件的所属用户  
>	chown  用户名  文件/文件夹路径  

更改文件的所属组  
>	chgrp 组名 文件/文件夹路径 
### 用户管理有关的命令
#### 用户管理有关的命令
+ 用户添加
```
useradd 用户名//同步在/home目录下创建一个用户名相同的文件夹
passwd 已存在的用户名
```
+ 用户查询
```
id  用户名
cat  /etc/passwd
```
+ 用户修改
```
usermod -g  组名  用户名
```
+ 用户删除
```
userdel  [-r]  用户名
```
+ 切换登录用户
```
su 用户名
```
#### 用户组管理有关的命令
+ 创建用户组
```
groupadd 组名
```
+ 查看用户组
```
cat /etc/group
```
+ 删除用户组
```
groupdel  组名
如果组中有用户 无法删除的
```
+ 编辑用户组
```
groupmod -n  新组名  旧组名
```
### 其他常用命令
```
who    查看当前系统登录了哪些用户
who am i 查看我是谁
wget
scp
```
### yum仓库
yum仓库可以理解为linux提供的一个软件商店，软件商店有很多常见的软件，可以直接安装的

```
yum install  [-y]  软件名
```
## Linux的环境变量配置
*** Linux上的环境变量配置文件有很多 ***
+ 系统变量   /etc/profile
+ 用户变量  ~/.bash_profile
### 步骤
+ 1、export xxx_HOME=XXX软件的安装目录，安装目录指的是命令所在目录的前一级目录
+ 2、export PATH=$PATH:$XXX_HOME/bin
+ 3、让环境变量生效：source  配置文件路径
## 配置Linux系统的主机名
+ 查看系统的主机名：hostname
+ 修改主机名需要更改一个配置文件：/etc/hostname
+ 重启生效：reboot
## 配置Linux系统的域名和IP的映射关系
+ /etc/hosts
## ssh免密登录
A和B两台主机，A和B主机之间的SSH免密登录，安装的大数据软件都是在多台节点上安装的，安装的软件如果是在多台节点上进行启动，需要进行一个操作，也就是登陆到其他节点上。
### 配置思想
+ 1.在需要免密登录的主机上生成主机的一个公钥和私钥
  + 1.切换到公钥和私钥的生成文件夹（隐藏文件夹 ~/.ssh）
  + 2.产生公钥和私钥：ssh-keygen -t rsa
  + 3.向其他主机分发公钥文件：ssh-copy-id 主机名/IP地址
+ 2.将公钥分发给其他节点，这样的话其他节点就可以不用输入密码
## Linux使用中的一个多用户操作文件的问题
交换文件导致文件只读状态的问题

